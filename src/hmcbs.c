/*
 * hmcbs.c
 *
 *  Purpose: Hardware Manager Control Block Allocation and Deallocation routines
 *
 *  Created on: 07-May-2015
 *      Author: anshul
 */
#include <hmincl.h>

/***************************************************************************/
/* Name:	hm_alloc_config_cb 											   */
/* Parameters: Input - 													   */
/*			   Input/Output -											   */
/* Return:	int32_t														   */
/* Purpose: Allocates and initializes Configuration CB for HM to defaults  */
/***************************************************************************/
HM_CONFIG_CB * hm_alloc_config_cb()
{
	/***************************************************************************/
	/* Variable Declarations												   */
	/***************************************************************************/
	HM_CONFIG_CB *config_cb = NULL;
	/***************************************************************************/
	/* Sanity Checks														   */
	/***************************************************************************/
	TRACE_ENTRY();
	/***************************************************************************/
	/* Main Routine															   */
	/***************************************************************************/
	/***************************************************************************/
	/* Allocate Config Structure											   */
	/***************************************************************************/
	config_cb = (HM_CONFIG_CB *)malloc(sizeof(HM_CONFIG_CB));
	if(config_cb == NULL)
	{
		TRACE_PERROR(("Error allocating User Configuration CB"));
		goto EXIT_LABEL;
	}
	/***************************************************************************/
	/* Load default configuration					   						   */
	/***************************************************************************/

EXIT_LABEL:
	/***************************************************************************/
	/* Exit Level Checks													   */
	/***************************************************************************/
	TRACE_EXIT();
	return(config_cb);
}/* hm_alloc_config_cb */


/***************************************************************************/
/* Name:	hm_alloc_transport_cb 									*/
/* Parameters: Input - 										*/
/*			   Input/Output -								*/
/* Return:	HM_TRANSPORT_CB *									*/
/* Purpose: Allocates a Transport Connection Control Block			*/
/***************************************************************************/
HM_TRANSPORT_CB * hm_alloc_transport_cb(uint32_t conn_type,
										const char *ip,
										uint16_t port
										)
{
	/***************************************************************************/
	/* Variable Declarations												   */
	/***************************************************************************/
	HM_TRANSPORT_CB *transport_cb = NULL;
	/***************************************************************************/
	/* Sanity Checks														   */
	/***************************************************************************/
	TRACE_ENTRY();
	/***************************************************************************/
	/* Main Routine															   */
	/***************************************************************************/

	/***************************************************************************/
	/* Exit Level Checks													   */
	/***************************************************************************/
	TRACE_EXIT();
	return transport_cb;
}/* hm_alloc_transport_cb */

/***************************************************************************/
/* Name:	hm_alloc_sock_cb 									*/
/* Parameters: Input - 										*/
/*			   Input/Output -								*/
/* Return:	HM_SOCKET_CB *									*/
/* Purpose: purpose			*/
/***************************************************************************/
HM_SOCKET_CB * hm_alloc_sock_cb(struct sockaddr_storage *address)
{
	/***************************************************************************/
	/* Variable Declarations												   */
	/***************************************************************************/
	HM_SOCKET_CB *sock_cb = NULL;
	/***************************************************************************/
	/* Sanity Checks														   */
	/***************************************************************************/
	TRACE_ENTRY();
	/***************************************************************************/
	/* Main Routine															   */
	/***************************************************************************/

	/***************************************************************************/
	/* Exit Level Checks													   */
	/***************************************************************************/
	TRACE_EXIT();
	return sock_cb;
}/* hm_alloc_sock_cb */
